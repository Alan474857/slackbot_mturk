<html>
<head>
    <meta charset="utf-8">
    <title>Conversation Quality Measurement</title>
    
    <!-- Bootstrap - 4 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>    
    <script src="https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/uuidv4.min.js"></script>
    <script src="https://alan474857.github.io/slackbot_mturk/notify.js"></script>

    <!-- Custom Code -->
    <link rel="stylesheet" type="text/css" href="https://alan474857.github.io/slackbot_mturk/conversation_evaluation.css">
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/conversation_evaluation.js"></script>
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/mturk.js"></script>
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/lock.js"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">

	<h1 style="text-align:center;">Evaluating the Quality of the Conversation</h1>

	<div id="instruction">
		<h3>Instruction</h3>
        <div>
            Below, you will see a conversation between <span class="bold">a user</span> and <span class="bold">a non-human Artificial Intelligence (AI) assistant</span>. 
            The user is asking the assistant for help with a question. 
            <div style="display:inline-block; height: 12px; width:100%;"> </div>
            The user's question to the assistant is: <span class="bold" style="text-decoration: underline;">"What flavor is Mountain Dew Baja blast?"</span>
        </div>
        <br>
		<ul>
            <li>
                Please read the conversation and rate its quality in terms of <span class="bold">Helpfulness, Quantity, Relevance, Repetitiveness, Clarity, and Ambiguity</span>.
                <ul>
                    <li><span class="bold">Helpfulness</span>: The assistant offer a helpful solution to the user's original question by the end of the conversation. </li>
                    <li><span class="bold">Quantity</span>: The assistant request an appropriate amount of information from the user, necessary for the purpose of the conversation. </li>
                    <li><span class="bold">Relevance</span>: The assistant seek information that is relevant to the purpose of the conversation from the user and avoid including irrelevant information. </li>
                    <li><span class="bold">Repetitiveness</span>: The assistant's messages are free from repeating information. </li>
                    <li><span class="bold">Clarity</span>: The assistant's messages are clear and easy to understand. </li>
                    <li><span class="bold">Ambiguity</span>: The assistant inform the user when things were unclear in the conversation and explain how it understood uncertain messages. </li>
                </ul>
            </li>
            <li>
                Please focus on both the <span class="user-conv">User</span> and <span class="assistant-conv">Assistant</span> turns. 
                <!-- (To present the full context, we show the assistant's responses, too.  -->
                <span style="color: red; font-weight: 900;">We would like you to assess the quality of the entire conversation</span>.
            </li>
            <li>Please read the conversation carefully. You will be able to submit the evaluation after <span style="color:red; font-weight:900;">70 seconds</span>.</li>
		</ul>
	</div>


	<div id="conversation">
		<h3>Conversation</h3>	
        <div style="margin-bottom: 20px;">
            This is the conversation between <span class="bold">a user</span> and <span class="bold">a non-human Artificial Intelligence(AI) assistant</span> on collecting information about 
            <span class="bold" style="text-decoration: underline;">"What flavor is Mountain Dew Baja blast?"</span>
            Please read the entire conversation carefully and focus on both the <span class="user-conv">User</span> and <span class="assistant-conv">Assistant</span> turns. 
        </div>
<div class="conversation_block user"><pre>What flavor is Mountain Dew Baja blast?</pre></div>
<div class="conversation_block assistant"><pre>Sure, I'd be happy to help with that. Just to understand a bit better, have you ever tasted Mountain Dew Baja Blast before?</pre></div>
<div class="conversation_block user"><pre>Yes I've had it once before</pre></div>
<div class="conversation_block assistant"><pre>That's great! How did you find the taste when you had it? Was there any particular flavor that stood out to you?</pre></div>
<div class="conversation_block user"><pre>I think the taste was like an icy mountain dew, but I'm not really sure what kind of flavor that is</pre></div>
<div class="conversation_block assistant"><pre>I understand. Sometimes, these flavors can be a bit hard to place. Do you usually enjoy fruity or tropical beverages? This might help us pinpoint the flavor.</pre></div>
<div class="conversation_block user"><pre>I do enjoy fruity and tropical beverages</pre></div>
<div class="conversation_block assistant"><pre>That's helpful to know! When it comes to tropical flavors, do you have a preference for any specific fruits like pineapple, mango, or perhaps coconut?</pre></div>
<div class="conversation_block user"><pre>I do like pineapple and mango a lot but coconut I dislike</pre></div>
<div class="conversation_block assistant"><pre>It sounds like you have a preference for certain tropical flavors. Aside from the fruity aspect, did you notice any other flavors in the Mountain Dew Baja Blast? Perhaps something a bit more refreshing or cool?</pre></div>
<div class="conversation_block user"><pre>I think it was both refreshing and cool</pre></div>
<div class="conversation_block assistant"><pre>Great, that's good to know! Now, considering your liking towards tropical flavors and your experience of the drink as refreshing and cool, would you say that the Mountain Dew Baja Blast reminded you of a specific tropical fruit or a combination of them?</pre></div>
<div class="conversation_block user"><pre>No I don't think so, but it has been a long time since I've tried it</pre></div>
<div class="conversation_block assistant"><pre>I see, it can be hard to remember the specifics of a flavor, especially if it's been a while. In terms of other beverages, would you say there's any other drink you've had that comes close to the flavor of Mountain Dew Baja Blast? This could be a helpful comparison.</pre></div>
<div class="conversation_block user"><pre>the mountain dew soda</pre></div>
<div class="conversation_block assistant"><pre>To answer your original question, the flavor of Mountain Dew Baja Blast is often characterized as a tropical lime flavor. Its unique taste is a bit of a mix between the citrus flavor common in Mountain Dew, with an added tropical twist. The "cool" and "refreshing" taste you noted likely relates to this lime and tropical flavor blend. Given your enjoyment of tropical and fruity beverages, it's not surprising that you enjoyed Baja Blast. However, flavor can be quite subjective and everyone may have a slightly different interpretation. I hope this helps clarify the flavor profile of Mountain Dew Baja Blast for you!</pre></div>
	</div>


	<div id="evaluation">
		<h3>Rating</h3>
		<div>
            Rate the conversation by selecting how much you agree with the statement about the conversation.
		</div>
		<div>
            <div class="radio_button" name="helpfulness">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant</span> offer a <span class="keyword">helpful solution</span> to the user's original question by the end of the conversation.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="quantity">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant</span> request an <span class="keyword">appropriate amount</span> of information from the user, necessary for the purpose of the conversation.
                </li>
                <div class="radio_answer" value="0">Too Little</div>
                <div class="radio_answer" value="1">Insufficient</div>
                <div class="radio_answer" value="2">Appropriate</div>
                <div class="radio_answer" value="3">Sufficient</div>
                <div class="radio_answer" value="4">Too Much</div>
        	</div>

			<div class="radio_button" name="relevance">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant</span> seek information that is <span class="keyword">relevant</span> to the purpose of the conversation from the user and avoid including irrelevant information.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="repetitiveness">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant's messages</span> are <span class="keyword">free from repeating information</span>.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="clarity">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant's messages</span> are <span class="keyword">clear and easy to understand</span>.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="ambiguity">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant</span> inform the user when things were <span class="keyword">unclear</span> in the conversation and <span class="keyword">explain how it understood uncertain messages</span>.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>
		</div>

        <form id="mturk_form" name="mturk_form">
            <input name="id" type="hidden" value="22">
            <input name="user_id" type="hidden" value="18">
            <input name="case" type="hidden" value="A">
            <input name="answer" type="hidden">
        </form>

        <button class="btn btn-block btn-outline-primary btn-sm" id="submit_btn" disabled> Submit </button>

	</div>

</div>

</body>
</html>
