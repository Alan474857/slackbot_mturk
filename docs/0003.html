<html>
<head>
    <meta charset="utf-8">
    <title>Conversation Quality Measurement</title>
    
    <!-- Bootstrap - 4 -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">    
    <script src="https://code.jquery.com/jquery-3.6.0.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.12.9/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
    
    <script src="https://cdn.jsdelivr.net/npm/sortablejs@latest/Sortable.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/jquery-sortablejs@latest/jquery-sortable.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootbox.js/5.5.2/bootbox.min.js"></script>    
    <script src="https://cdn.jsdelivr.net/npm/uuid@latest/dist/umd/uuidv4.min.js"></script>
    <script src="https://alan474857.github.io/slackbot_mturk/notify.js"></script>

    <!-- Custom Code -->
    <link rel="stylesheet" type="text/css" href="https://alan474857.github.io/slackbot_mturk/conversation_evaluation.css">
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/conversation_evaluation.js"></script>
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/mturk.js"></script>
    <script type="text/javascript" src="https://alan474857.github.io/slackbot_mturk/lock.js"></script>

    <!-- Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Open+Sans:wght@400;600;700;800&display=swap" rel="stylesheet">
</head>
<body>

<div class="container">

	<h1 style="text-align:center;">Evaluating the Quality of the Conversation</h1>

	<div id="instruction">
		<h3>Instruction</h3>
        <div>
            Below, you will see a conversation between <span class="bold">an user</span> and <span class="bold">an AI (non-human) assistant</span>. 
            The user is reaching out to the assistant to ask for help for a question. 
            <div style="display:inline-block; height: 12px; width:100%;"> </div>
            The user's question to the assistant is: <span class="bold" style="text-decoration: underline;">"How much pain did you feel after wisdom tooth removal?"</span>
        </div>
        <br>
		<ul>
            <li>
                Please read the conversation and rate its quality in terms of <span class="bold">Helpfulness, Contribution, Informativeness, Repetitiveness, and Amount</span>.
                <ul>
                    <li><span class="bold">Helpfulness</span>: The assistant gave helpful solution at the end of the conversation. </li>
                    <li><span class="bold">Contribution</span>: Follow-up questions the assistant asked  contribute to providing well-suited question for the user's situation. </li>
                    <li><span class="bold">Informativeness</span>: The user sent sufficient information in the conversation for the assistant to provide help. </li>
                    <li><span class="bold">Repetitiveness</span>: The user communicated with the remote assistant effectively. </li>
                    <li><span class="bold">Amount</span>: The amount of follow-up questions the assistant asked . </li>
                </ul>
            </li>
            <li>
                Please focus on both the <span class="user-conv">User</span> and <span class="assistant-conv">Assistant</span> turns. 
                <!-- (To present the full context, we show the assistant's responses, too.  -->
                <span style="color: red; font-weight: 900;">We would like you to assess the quality of both the user's and assistant's messages</span>.
            </li>
            <li>Please read the conversation carefully. You will be able to submit the evaluation after <span style="color:red; font-weight:900;">30 seconds</span>.</li>
		</ul>
	</div>


	<div id="conversation">
		<h3>Conversation</h3>	
        <div style="margin-bottom: 20px;">
            This is the conversation between <span class="bold">a user</span> and <span class="bold">a remote assistant</span> on collecting information about 
            <span class="bold" style="text-decoration: underline;">"{{topic}}"</span>
            Please read the conversation carefully and focus on the <span class="user-conv">User</span> turns. 
        </div>
<div class="conversation_block user"><pre>How much pain did you feel after wisdom tooth removal?</pre></div>
<div class="conversation_block assistant"><pre>Of course, I'd be happy to help you with your question. Just to clarify, have you recently had your wisdom teeth removed or are you planning to have this procedure done?</pre></div>
<div class="conversation_block user"><pre>recently I had 4 wisdom teeth removed</pre></div>
<div class="conversation_block assistant"><pre>I see. How long ago did you have the procedure done?</pre></div>
<div class="conversation_block user"><pre>about 3 months</pre></div>
<div class="conversation_block assistant"><pre>I understand. How's your recovery been so far? Have you experienced a lot of pain or discomfort after the procedure?</pre></div>
<div class="conversation_block user"><pre>Not too bad. I did have some discomfort after the operation.</pre></div>
<div class="conversation_block assistant"><pre>Thanks for sharing that. Did you have any complications after the surgery, like dry socket, infection, or nerve damage? These can often contribute to a painful recovery.</pre></div>
<div class="conversation_block user"><pre>it seemed that I didn't have too much complications during the recovery</pre></div>
<div class="conversation_block assistant"><pre>That's good to hear. How was your pain managed post-operation? Did you take any medications or apply any specific care routines?</pre></div>
<div class="conversation_block user"><pre>some regular medications were taken for avoiding the inflammation</pre></div>
<div class="conversation_block assistant"><pre>Understood, your diligence with medication likely helped with managing the pain. Now, comparing to your expectation before the procedure, would you say the pain and discomfort were more, less, or about what you anticipated?</pre></div>
<div class="conversation_block user"><pre>reduced. it was better than expected</pre></div>
<div class="conversation_block assistant"><pre>I'm glad to hear your experience was better than expected! My final question would be, looking back now, is there anything you wish you knew before the procedure or any advice you'd give to others who are about to undergo the same surgery?</pre></div>
<div class="conversation_block user"><pre>I would advice others to eat ice-cream which helps the pain relief.</pre></div>
<div class="conversation_block assistant"><pre>To answer your original question about the level of pain experienced after wisdom tooth removal, it appears from your experience that the pain was manageable and even less than expected. A combination of timely medications and proper self-care such as eating ice cream for relief can help mitigate discomfort. Your experience suggests that while there is some discomfort associated with the removal of wisdom teeth, it is bearable and can be effectively managed with appropriate care and follow-up. It's great to hear that you managed your recovery well!</pre></div>
	</div>


	<div id="evaluation">
		<h3>Rating</h3>
		<div>
            Rate the <span class="user-conv">User conversation</span> by selecting how much you agree with the statement about the conversation.
		</div>
		<div>
            <div class="radio_button" name="helpfulness">
            	<li class="radio_question">
                    The <span class="assistant-conv">assistant</span> provided <span class="keyword">helpful solution</span> to the original question the <span class="user-conv">user</span> aksed at the start of the conversation.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="contribution">
            	<li class="radio_question">
                    maxim of quantity
                    The <span class="assistant-conv">assistant</span> asked the <span class="keyword">appropriate amount</span> of questions necessary for the purpose of the conversation.
                    <!-- Follow-up questions the <span class="assistant-conv">assistant</span> asked <span class="keyword">contribute</span> to providing an answer well-suited for the <span class="user-conv">user's</span> situation. -->
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

			<div class="radio_button" name="informativeness">
            	<li class="radio_question">
                    maxim of relation
                    The <span class="assistant-conv">assistant</span> asked for information that is <span class="keyword">relevant</span> to the purpose of the conversation and omitted irrelevant information.
                    <!-- The <span class="user-conv">user</span> sent <span class="keyword">sufficient information</span> in the requests for the assistant to help answer the question. -->
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="repetitiveness">
            	<li class="radio_question">
                    maxim of manner
                    The assistant's messages does not include repeating information and are clear and easy to understand.
                    <!-- The conversation contains repeated information due to poor communication. -->
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>

            <div class="radio_button" name="amount">
            	<li class="radio_question">
                    ambiguous and underspecified utterance handling
                    Whenencounter ambiguous or underspecified utterace, they provide feedback to the user their interpretation of the utterance and how it was handled.
                    The <span class="assistant-conv">assistant</span> asked <span class="keyword">enough follow-up questions</span> to help answer the <span class="user-conv">user's</span> question sufficiently.
                </li>
                <div class="radio_answer" value="0">Strongly Disagree</div>
                <div class="radio_answer" value="1">Disagree</div>
                <div class="radio_answer" value="2">Neutral</div>
                <div class="radio_answer" value="3">Agree</div>
                <div class="radio_answer" value="4">Strongly Agree</div>
        	</div>
		</div>

        <form id="mturk_form" name="mturk_form">
            <input name="id" type="hidden" value="9">
            <input name="user_id" type="hidden" value="14">
            <input name="case" type="hidden" value="A">
            <input name="answer" type="hidden">
        </form>

        <button class="btn btn-block btn-outline-primary btn-sm" id="submit_btn" disabled> Submit </button>

	</div>

</div>

</body>
</html>
